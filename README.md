# Постановка задачи<br />
 Введем следующую задачу: <br />
 Допустим у нас на локальном диске имеется код, который нужно протестировать, и есть удаленный репозиторий, в котором находятся тесты. Нам нужно протестировать имеющийся у нас код, загрузив его в репозиторий с тестами, получить локально результат тестирования кода и работы workflow и отменить любые изменения в репозитории, которые могли произойти во время тестирования.<br />
# Описание программы <br />
 Решение задачи будет основано на .NET Core. Полное описание можно найти в отчете, расположенном в репозитории. 
# Инструкция<br />
 1) Настройка:<br />
  1.1) Добавление PAT(при тестировании использовался PAT, дающий полный доступ ко всем функциям GH, но PAT с доступом к репозиторию и workflow достаточно) в качестве секрета в репозиторий (по умолчанию в workflow будет использоваться секрет с названием "TOKEN"). Добавить секрет можно в соответсвтующей вкладке в настройках репозитория;<br />
   1.2) При использовании собственных тестов, добавить в их .csproj код из текстового файла ForTestCsproj.txt, содержащегося в репозитории. Необходмо для корректной сборки/тестирования решения;<br />
   1.3) Внести изменения в workflow:<br />
   CopyFolder: значение dst_owner - имя владельца репозитория, dst_repo_name - название репозитоиря, dst_branch - название временной ветки, используемый для тестирования, src_branch - основная ветка, из которой берутся тесты и в которой находятся файлы workflow;<br />
   TestAndDelete: значение branches, расположенное в шаге Delete branch, должно иметь название временной ветки, в которой происходит тестирование.<br />
   1.4) При создании локальной копии папки с примером кода для тестирования нужно поменять в ней название папки "_github" на ".github" <br />
 2) Использование программы:<br />
   2.1) Заполнить все необходимые для работы программы данные в файле конфигурации:<br />
   PersonalAccessToken - PAT с доступом к репозиторию и workflow (параметры доступа PAT определяются во время его создания);<br />
   User и Repo означают имя пользователя GitHub и название репозитория GitHub соответственно.<br />
   2.2) Указать локальные пути для директории с кодом для тестирования и создаваемого директория с git репозиторием, а также указать путь к директорию с git репозиторием для его удаления;<br />
   2.3) После успешного пуша и создания ветки "temp" программа ожидает завершения workflow и загрузки артефактов в репозиторий(в текущей реализации просто используется Thread.Sleep()). В некоторых ситуациях, когда сервера GitHub могут быть сильно нагружены, времени установленного для простоя по умолчанию может не хватить. В этом случае стоит изменить параметр в Thread.Sleep();<br />
   2.4) После завершения работы программы в локальной папке дебага можно будет найти файл с описанием состояния workflow(условные "0+0" - успешное выполнение workflow и прохождение  тестов,"0+1" - ошибка на одном из этапов работы workflow, "0+2" - отрицательный результат тестирования, но успешная работа workflow); <br />
